(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(t,e,a){},179:function(t,e,a){},180:function(t,e,a){},181:function(t,e,a){},182:function(t,e,a){},184:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(85),c=a.n(r),s=(a(178),a(12)),o=a(13),l=a(15),h=a(14),u=a(16),v=a(28),g=a.n(v),m=(a(179),a(180),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={hoverLoc:null,activePoint:null},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"getX",value:function(){var t=this.props.data;return{min:t[0].x,max:t[t.length-1].x}}},{key:"getY",value:function(){var t=this.props.data;return{min:t.reduce(function(t,e){return e.y<t?e.y:t},t[0].y),max:t.reduce(function(t,e){return e.y>t?e.y:t},t[0].y)}}},{key:"getSvgX",value:function(t){var e=this.props,a=e.svgWidth,n=e.yLabelSize;return n+t/this.getX().max*(a-n)}},{key:"getSvgY",value:function(t){var e=this.props,a=e.svgHeight,n=e.xLabelSize,i=this.getY();return((a-n)*i.max-(a-n)*t)/(i.max-i.min)}},{key:"makePath",value:function(){var t=this,e=this.props,a=e.data,n=e.color,r="M "+this.getSvgX(a[0].x)+" "+this.getSvgY(a[0].y)+" ";return r+=a.map(function(e,a){return"L "+t.getSvgX(e.x)+" "+t.getSvgY(e.y)+" "}).join(""),i.a.createElement("path",{className:"linechart_path",d:r,style:{stroke:n}})}},{key:"makeArea",value:function(){var t=this,e=this.props.data,a="M "+this.getSvgX(e[0].x)+" "+this.getSvgY(e[0].y)+" ";a+=e.map(function(e,a){return"L "+t.getSvgX(e.x)+" "+t.getSvgY(e.y)+" "}).join("");var n=this.getX(),r=this.getY();return a+="L "+this.getSvgX(n.max)+" "+this.getSvgY(r.min)+" L "+this.getSvgX(n.min)+" "+this.getSvgY(r.min)+" ",i.a.createElement("path",{className:"linechart_area",d:a})}},{key:"makeAxis",value:function(){var t=this.props.yLabelSize,e=this.getX(),a=this.getY();return i.a.createElement("g",{className:"linechart_axis"},i.a.createElement("line",{x1:this.getSvgX(e.min)-t,y1:this.getSvgY(a.min),x2:this.getSvgX(e.max),y2:this.getSvgY(a.min),strokeDasharray:"5"}),i.a.createElement("line",{x1:this.getSvgX(e.min)-t,y1:this.getSvgY(a.max),x2:this.getSvgX(e.max),y2:this.getSvgY(a.max),strokeDasharray:"5"}))}},{key:"makeLabels",value:function(){var t=this.props,e=t.svgHeight,a=t.svgWidth,n=t.xLabelSize,r=t.yLabelSize;return i.a.createElement("g",{className:"linechart_label"},i.a.createElement("text",{transform:"translate(".concat(r/2,", 20)"),textAnchor:"middle"},this.getY().max.toLocaleString("us-EN",{style:"currency",currency:"USD"})),i.a.createElement("text",{transform:"translate(".concat(r/2,", ").concat(e-n-5,")"),textAnchor:"middle"},this.getY().min.toLocaleString("us-EN",{style:"currency",currency:"USD"})),i.a.createElement("text",{transform:"translate(".concat(r,", ").concat(e,")"),textAnchor:"start"},this.props.data[0].d),i.a.createElement("text",{transform:"translate(".concat(a,", ").concat(e,")"),textAnchor:"end"},this.props.data[this.props.data.length-1].d))}},{key:"getCoords",value:function(t){var e=this,a=this.props,n=a.svgWidth,i=a.data,r=a.yLabelSize,c=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),s=(c.width-n)/2,o=t.clientX-c.left-s,l=[];i.map(function(t,a){l.push({svgX:e.getSvgX(t.x),svgY:e.getSvgY(t.y),d:t.d,p:t.p})});for(var h={},u=0,v=500;u<l.length;u++)Math.abs(l[u].svgX-this.state.hoverLoc)<=v&&(v=Math.abs(l[u].svgX-this.state.hoverLoc),h=l[u]);o-r<0?this.stopHover():(this.setState({hoverLoc:o,activePoint:h}),this.props.onChartHover(o,h))}},{key:"stopHover",value:function(){this.setState({hoverLoc:null,activePoint:null}),this.props.onChartHover(null,null)}},{key:"makeActivePoint",value:function(){var t=this.props,e=t.color,a=t.pointRadius;return i.a.createElement("circle",{className:"linechart_point",style:{stroke:e},r:a,cx:this.state.activePoint.svgX,cy:this.state.activePoint.svgY})}},{key:"createLine",value:function(){var t=this.props,e=t.svgHeight,a=t.xLabelSize;return i.a.createElement("line",{className:"hoverLine",x1:this.state.hoverLoc,y1:-8,x2:this.state.hoverLoc,y2:e-a})}},{key:"render",value:function(){var t=this,e=this.props,a=e.svgHeight,n=e.svgWidth;return i.a.createElement("svg",{width:n,height:a,viewBox:"0 0 ".concat(n," ").concat(a),className:"linechart",onMouseLeave:function(){return t.stopHover()},onMouseMove:function(e){return t.getCoords(e)}},i.a.createElement("g",null,this.makeAxis(),this.makePath(),this.makeArea(),this.makeLabels(),this.state.hoverLoc?this.createLine():null,this.state.hoverLoc?this.makeActivePoint():null))}}]),e}(n.Component));m.defaultProps={data:[],color:"#2196F3",pointRadius:5,svgHeight:300,svgWidth:900,xLabelSize:20,yLabelSize:80};var d=m,p=(a(181),function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props,e=t.hoverLoc,a=t.activePoint,n=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),r={};return r.width="100px",r.left=e+n.left-50,i.a.createElement("div",{className:"hover",style:r},i.a.createElement("div",{className:"date"},a.d),i.a.createElement("div",{className:"price"},a.p))}}]),e}(n.Component)),f=(a(182),a(84)),y=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={currentPrice:null,change24hD:null,change24hP:null,updatedAt:null},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getData=function(){t.props.data;fetch("https://api.coinstats.app/public/v1/charts?period=24h&coinId=cardano").then(function(t){return t.json()}).then(function(e){var a=f.head(e.chart),n=f.last(e.chart),i=n[1],r=i-a[1],c=r/a[1]*100,s=g.a.unix(n[0]);t.setState({currentPrice:i,change24hD:r.toLocaleString("us-EN",{style:"currency",currency:"USD",maximumSignificantDigits:5}),change24hP:c.toFixed(2)+"%",updatedAt:s})}).catch(function(t){console.log(t)})},this.getData(),this.refresh=setInterval(function(){return t.getData()},9e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresh)}},{key:"render",value:function(){return i.a.createElement("div",{id:"data-container"},this.state.currentPrice?i.a.createElement("div",{id:"left",className:"box"},i.a.createElement("div",{className:"heading"},this.state.currentPrice.toLocaleString("us-EN",{style:"currency",currency:"USD",maximumSignificantDigits:5})),i.a.createElement("div",{className:"subtext"},"Updated "+g()(this.state.updatedAt).fromNow())):null,this.state.currentPrice?i.a.createElement("div",{id:"middle",className:"box"},i.a.createElement("div",{className:"heading"},this.state.change24hD),i.a.createElement("div",{className:"subtext"},"Change Since Last 24h (USD)")):null,i.a.createElement("div",{id:"right",className:"box"},i.a.createElement("div",{className:"heading"},this.state.change24hP),i.a.createElement("div",{className:"subtext"},"Change Since Last 24h (%)")))}}]),e}(n.Component),x=a(84),S=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={fetchingData:!0,data:null,hoverLoc:null,activePoint:null},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"handleChartHover",value:function(t,e){this.setState({hoverLoc:t,activePoint:e})}},{key:"componentDidMount",value:function(){var t=this;fetch("https://api.coinstats.app/public/v1/charts?period=1y&coinId=cardano").then(function(t){return t.json()}).then(function(e){var a=[],n=0;x.forEach(e.chart,function(t){a.push({d:g.a.unix(t[0]).format("MMM DD"),p:t[1].toLocaleString("us-EN",{style:"currency",currency:"USD",maximumSignificantDigits:5}),x:n,y:t[1]}),n++}),t.setState({data:a,fetchingData:!1})}).catch(function(t){console.log(t)})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("h1",null,"1 Year ADA Price Chart")),i.a.createElement("div",{className:"row"},this.state.fetchingData?null:i.a.createElement(y,{data:this.state.data})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"popup"},this.state.hoverLoc?i.a.createElement(p,{hoverLoc:this.state.hoverLoc,activePoint:this.state.activePoint}):null)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"chart"},this.state.fetchingData?null:i.a.createElement(d,{data:this.state.data,onChartHover:function(e,a){return t.handleChartHover(e,a)}}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{id:"CoinStats"}," Powered by ",i.a.createElement("a",{href:"https://coinstats.app/"},"CoinStats"))))}}]),e}(n.Component),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}c.a.render(i.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");E?function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):b(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t):b(t)})}}()},86:function(t,e,a){t.exports=a(184)}},[[86,1,2]]]);
//# sourceMappingURL=main.a7c75397.chunk.js.map